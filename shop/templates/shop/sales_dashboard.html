<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <title>é”€å”®ç»Ÿè®¡æŠ¥è¡¨</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>

<body class="bg-light">

    <nav class="navbar navbar-expand-lg navbar-dark bg-primary mb-4">
        <div class="container">
            <a class="navbar-brand" href="#">ğŸ“Š é”€å”®ç®¡ç†é©¾é©¶èˆ±</a>
            <div class="navbar-nav ms-auto">
                <a class="nav-link active" href="{% url 'product_list' %}">è¿”å›å•†åŸé¦–é¡µ</a>
                <a class="nav-link" href="/admin">è¿›å…¥åå°ç®¡ç†</a>
            </div>
        </div>
    </nav>

    <div class="container">
        <div class="row mb-4">
            <div class="col-md-6">
                <div class="card text-white bg-success mb-3 shadow">
                    <div class="card-header">ğŸ’° æ€»é”€å”®é¢</div>
                    <div class="card-body">
                        <h1 class="card-title">ï¿¥{{ total_revenue }}</h1>
                        <p class="card-text">æ‰€æœ‰å·²æ”¯ä»˜è®¢å•çš„é‡‘é¢æ€»å’Œ</p>
                    </div>
                </div>
            </div>
            <div class="col-md-6">
                <div class="card text-white bg-info mb-3 shadow">
                    <div class="card-header">ğŸ“¦ æ€»æˆäº¤è®¢å•æ•°</div>
                    <div class="card-body">
                        <h1 class="card-title">{{ total_orders }} å•</h1>
                        <p class="card-text">å·²å®Œæˆæ”¯ä»˜çš„è®¢å•æ•°é‡</p>
                    </div>
                </div>
            </div>
        </div>

        <div class="card shadow">
            <div class="card-header bg-white fw-bold">
                ğŸ”¥ çƒ­é”€å•†å“ TOP 5
            </div>
            <div class="card-body">
                {% if hot_products %}
                <table class="table table-striped table-hover">
                    <thead>
                        <tr>
                            <th>æ’å</th>
                            <th>å•†å“åç§°</th>
                            <th>ç´¯è®¡é”€é‡</th>
                            <th>é”€å”®çƒ­åº¦</th>
                        </tr>
                    </thead>
                    <tbody>
                        {% for item in hot_products %}
                        <tr>
                            <td>
                                {% if forloop.counter == 1 %}ğŸ¥‡
                                {% elif forloop.counter == 2 %}ğŸ¥ˆ
                                {% elif forloop.counter == 3 %}ğŸ¥‰
                                {% else %}{{ forloop.counter }}{% endif %}
                            </td>
                            <td>{{ item.product__name }}</td>
                            <td class="fw-bold">{{ item.total_sold }} ä»¶</td>
                            <td>
                                <div class="progress">
                                    <div class="progress-bar bg-warning" role="progressbar"
                                        style="width: {{ item.total_sold }}0%" aria-valuenow="{{ item.total_sold }}"
                                        aria-valuemin="0" aria-valuemax="100"></div>
                                </div>
                            </td>
                        </tr>
                        {% endfor %}
                    </tbody>
                </table>
                {% else %}
                <p class="text-center text-muted py-3">æš‚æ— é”€å”®æ•°æ®</p>
                {% endif %}
            </div>
        </div>
    </div>

</body>

</html>